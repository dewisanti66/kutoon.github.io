<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Movie Posters</title>
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
    <style>
        body {
            background-color: #626262;
            font-family: Arial, sans-serif;
            min-height: 1000px;
        }
        #columns {
            column-width: 320px;
            column-gap: 15px;
            width: 96%;
            margin: 50px auto;
        }

        div#columns figure {
            background: #fefefe;
            box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
            margin: 0 2px 15px;
            /*padding: 15px;
            padding-bottom: 10px;*/
            display: inline-block;
            column-break-inside: avoid;
        }

        div#columns figure img {
            width: 100%; height: auto;
            /*border-bottom: 1px solid #ccc;
            padding-bottom: 15px;
            margin-bottom: 5px;*/
            margin-bottom:0;
            display: block;
        }

        div#columns figure figcaption {
            font-size: .9rem;
            color: #444;
            line-height: 1.5;
        }

        @media screen and (max-width: 750px) { 
            #columns {column-width: 270px; column-gap: 5px;}
        }

        @media screen and (max-width: 414px) { 
            #columns {column-width: 160px; column-gap: 5px;}
        }
    </style>
</head>
<body>
    <div id="columns">
        <!--<figure>
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/cinderella.jpg">
            <figcaption>Cinderella wearing European fashion of the mid-1860’s</figcaption>
        </figure>
        -->
    </div>
    
    <div id="id01" class="w3-modal">
        <div class="w3-modal-content w3-animate-zoom">
            <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-display-topright">&times;</span>
            <div style="margin: 0 auto; text-align: center">
            <img id="image_lightbox" style="max-width: 100%; display: block; margin:0 auto">
            </div>
        </div>
    </div>

    <script>
        var xmlhttp = new XMLHttpRequest();
        var url = "movies.json";
    
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            myFunction(xmlhttp.responseText);
            }
        }
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    
        function myFunction(response) {
            var arr = JSON.parse(response);
            var i;
            var out = "";
    
            var json_len = arr.movies.length;
            for (i = 0; i < json_len; i++) {
            var poster = arr.movies[i].poster;

            out += '<figure><img src="' + poster + '" onclick="document.getElementById(\'id01\').style.display=\'block\'; document.getElementById(\'image_lightbox\').src=\' ' +  poster + ' \'" ></figure>';
            
            }
            document.getElementById("columns").innerHTML = out;
        }
    </script>
</body>
</html>