<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Brave Frontier</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:image" content="http://ntttoon.github.io/bravefrontier/images/fb_lore.jpg" />
<meta property="og:title" content="Brave Frontier - Unit Lore" />
<meta property="og:description" content="EN and VN Lore, Click to read!" />
<link rel="stylesheet" href="../css/w3.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<script src="../js/ga.js"></script>
<script src="js/libs.js"></script>
</head>

<body>
<!-- Navbar -->
<div class="w3-top w3-teal" style="height:39px;">
  <div id="top_menu"></div>
    <!--
    <li><a href="lore_details.html" class="w3-hover-white" onClick="lanEN();">EN</a></li>
    <li><a href="lore_details.html" class="w3-hover-white" onClick="lanVN();">VN</a></li>
    -->
  </div>
<!-- end Navbar -->

<div style="margin-top:50px;"></div>
<div id="placeholder"> </div>

<script>
	if (typeof(Storage) !== "undefined") {
		if (!localStorage.lan) {
            localStorage.lan = "en";
        }
		lan = localStorage.lan;
	} else {
		alert("Sorry, your browser does not support Web Storage...");
	}
	/////
	var xmlhttp = new XMLHttpRequest();
	var url = "data/lore.json";
	
	xmlhttp.onreadystatechange=function() {
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
			myFunction(xmlhttp.responseText);
		}
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	
	function myFunction(response) {
		var arr = JSON.parse(response);
		var i;
		var out = "";
		var top_btn = "";
		var s = getURLParameter('id');
		var json_len = arr.brave.unit.length;
		for(i = 0; i < json_len; i++) {
			var id = arr.brave.unit[i].id;
			if(id==s)
			{
				var thumb = arr.brave.unit[i].thumb;
				var translator = arr.brave.unit[i].translator;
				//
				var lore3s_art = arr.brave.unit[i].lore3s['art'];
				var lore3s_en = arr.brave.unit[i].lore3s['enlore'];
				var lore3s_vn = arr.brave.unit[i].lore3s['vnlore'];
				//
				var lore4s_art = arr.brave.unit[i].lore4s['art'];
				var lore4s_en = arr.brave.unit[i].lore4s['enlore'];
				var lore4s_vn = arr.brave.unit[i].lore4s['vnlore'];
				//
				var lore5s_art = arr.brave.unit[i].lore5s['art'];
				var lore5s_en = arr.brave.unit[i].lore5s['enlore'];
				var lore5s_vn = arr.brave.unit[i].lore5s['vnlore'];
				//
				var lore6s_art = arr.brave.unit[i].lore6s['art'];
				var lore6s_en = arr.brave.unit[i].lore6s['enlore'];
				var lore6s_vn = arr.brave.unit[i].lore6s['vnlore'];
				//
				var lore7s_art = arr.brave.unit[i].lore7s['art'];
				var lore7s_en = arr.brave.unit[i].lore7s['enlore'];
				var lore7s_vn = arr.brave.unit[i].lore7s['vnlore'];
				//
				var lore8s_art = arr.brave.unit[i].lore8s['art'];
				var lore8s_en = arr.brave.unit[i].lore8s['enlore'];
				var lore8s_vn = arr.brave.unit[i].lore8s['vnlore'];
				
				//
				var lore3s_lan = (lan == 'en') ? lore3s_en : lore3s_vn;
				var lore4s_lan = (lan == 'en') ? lore4s_en : lore4s_vn;
				var lore5s_lan = (lan == 'en') ? lore5s_en : lore5s_vn;
				var lore6s_lan = (lan == 'en') ? lore6s_en : lore6s_vn;
				var lore7s_lan = (lan == 'en') ? lore7s_en : lore7s_vn;
				var lore8s_lan = (lan == 'en') ? lore8s_en : lore8s_vn;
				//
				if(!lore3s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore3s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore3s_lan + '</p>';
					out+= '</div></div></div>'
				}
				//
				if(!lore4s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore4s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore4s_lan + '</p>';
					out+= '</div></div></div>'
				}
				//
				if(!lore5s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore5s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore5s_lan + '</p>';
					out+= '</div></div></div>'
				}
				//
				if(!lore6s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore6s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore6s_lan + '</p>';
					out+= '</div></div></div>'
				}
				//
				if(!lore7s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore7s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore7s_lan + '</p>';
					out+= '</div></div></div>'
				}
				//
				if(!lore8s_art == ""){
					out+= '<div class="w3-container w3-margin-top">';
					out+= '<div class="w3-card-2">';
					out+= '<div class="w3-center"><img src="' + lore8s_art + '" style="width:100%;max-width:400px"></div>';
					out+= '<div class="w3-container w3-justify">';
					out+= '<p>' + lore8s_lan + '</p>';
					out+= '</div></div></div>'
				}
			}
		}
		out+= '<p class="w3-center">Translator: ' + translator + '</p>'
		document.getElementById("placeholder").innerHTML = out;
		/////
		top_btn+= '<ul class="w3-pagination"><li><a href="list_lore.html" class="w3-hover-white"><i class="fa fa-arrow-left"></i></a></li>';
		top_btn+= '<li><a href="lore_details.html?id=' + id + '" class="w3-hover-white" onClick="lanEN();">EN</a></li><li><a href="lore_details.html?id=' + id + '" class="w3-hover-white" onClick="lanVN();">VN</a></li>';
		top_btn+= '</ul>';
		document.getElementById("top_menu").innerHTML = top_btn;
	}
	/////////////////////
	function lanVN(){
		if(lan == "en"){
			localStorage.lan = "vn";
			lan = localStorage.lan;
		}
	}
	function lanEN(){
		if(lan == "vn"){
			localStorage.lan = "en";
			lan = localStorage.lan;
		}
	}
</script>

</body>
</html>
